<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <title>&#x98CE;&#x7269;&#x4E4B;&#x8BD7;&#x7434;&#x6A21;&#x62DF;&#x5668;</title>
    <link rel="stylesheet" type="text/css" href="./css/animations.css">
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <link rel="stylesheet" type="text/css" href="./css/toolbar.css">
    <link rel="stylesheet" type="text/css" id="async" href="" loaded="0">
    <link rel="icon" href="./favicon.ico" type="image/x-icon" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"
        charset="utf-8">
    <link rel="manifest" href="./manifest.json">
</head>

<body onload='choice()'>
    <div id="loadDiv" class="loadDiv">正在加载...</div>
    <!-- 横屏提醒弹窗 -->
    <div id="orientationWarning" class="orientation-warning">
        <div class="orientation-warning-content">
            <div class="rotate-icon">
                <img src="./img/mobile_rotate.svg" alt="旋转屏幕" />
            </div>
            <p>请将手机横屏使用以获得最佳体验</p>
            <button class="close-orientation-warning">× 点我关闭弹层</button>
        </div>
    </div>
    <div class="toolbar">
        <div class="music" onclick="showTextarea('transpose')"><span class="musicClef music-color">&#8645;</span></div>
        <div class="music" onclick="showTextarea('input')"><span class="musicClef music-color">&#9655;</span></div>
        <a href="https://github.com/VanillaNahida/WindsongLyre-Sim" target="_blank" class="music"><svg class="musicClef music-color github-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a>
    </div>
    <div class="input" id="input">
        <span class="bpmText">
            <div class="settingsText">BPM: </div>
        </span>
        <input class="bpm" id="bpm" type="number" value="60" maxlength="4" placeholder="&#x8BF7;&#x8F93;&#x5165;BPM">
        <span class="closeMusic" onclick="showTextarea('input')">&#11020;</span>
        <hr class="line0-1" />
        <textarea class="textareaInput" id="textareaInput" placeholder="&#x8BF7;&#x8F93;&#x5165;&#x4E50;&#x8C31;"
            spellcheck="false"></textarea>
        <hr class="line0-2" />
        <div class="buttonGroup">
            <button class="start" onclick="startMusic()">&#x5F00;&#x59CB;</button>
            <button class="pause" onclick="pauseMusic()">&#x505C;&#x6B62;</button>
            <button class="clear" onclick="clearMusic()">&#x6E05;&#x7A7A;</button>
        </div>
    </div>
    <div class="input" id="transpose">
        <span class="window-title">转调</span>
        <span class="closeMusic" onclick="showTextarea('transpose')">&#11020;</span>
        <hr class="line0-1" />
        <span class="content">
            <span class=" settingsField">
                <div class="settingsText">调式：</div>
                <div class="combo-box modeSelection">
                    <span id="modeText">调式</span>
                    <div class="combo-items">
                        <p onclick="selectMode(this);">Ionian</p>
                        <p onclick="selectMode(this);">Dorian</p>
                        <p onclick="selectMode(this);">Phrygian</p>
                        <p onclick="selectMode(this);">Lydian</p>
                        <p onclick="selectMode(this);">Mixolydian</p>
                        <p onclick="selectMode(this);">Aeolian</p>
                        <p onclick="selectMode(this);">Locrian</p>
                    </div>
                </div>
            </span>
            <br>
            <span class=" settingsField">
                <div class="settingsText">音高：</div>
                <input class="bpm" id="transpose-num" type="number" value="0" maxlength="2" max="12" min="-12"
                    placeholder="请输入半音高">
            </span>
        </span>
    </div>
    <div class="location">
        <table id="keyboard">
            <tr>
                <td>
                    <span class="clef0">&#119070;</span>
                    <hr class="line1-1" />
                    <hr class="line1-2" />
                    <hr class="line1-3" />
                    <hr class="line1-4" />
                    <hr class="line1-5" />
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="q">
                        <span class="note2 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">do</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="w">
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">re</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="e">
                        <span class="note2 music-color">&#119062;</span>
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">mi</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="r">
                        <span class="note1 music-color">&#119062;</span>
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">fa</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="t">
                        <span class="note1 music-color">&#119062;</span>
                        <span class="note2 music-color">&#119062;</span>
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">so</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="y">
                        <span class="note5 music-color">&#119062;</span>
                        <span class="note7 music-color">&#119062;</span>
                        <span class="note8 music-color">&#119062;</span>
                        <span class="note9 music-color">&#119133;</span>
                        <span class="text">la</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="u">
                        <span class="note5 music-color">&#119062;</span>
                        <span class="note6 music-color">&#119062;</span>
                        <span class="note7 music-color">&#119062;</span>
                        <span class="note8 music-color">&#119062;</span>
                        <span class="note9 music-color">&#119133;</span>
                        <span class="text">ti</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="clef">&#119073;</span>
                    <hr class="line2-1" />
                    <hr class="line2-2" />
                    <hr class="line2-3" />
                    <hr class="line2-4" />
                    <hr class="line2-5" />
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="a">
                        <span class="note2 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">do</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="s">
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">re</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="d">
                        <span class="note2 music-color">&#119062;</span>
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">mi</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="f">
                        <span class="note1 music-color">&#119062;</span>
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">fa</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="g">
                        <span class="note1 music-color">&#119062;</span>
                        <span class="note2 music-color">&#119062;</span>
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">so</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="h">
                        <span class="note5 music-color">&#119062;</span>
                        <span class="note7 music-color">&#119062;</span>
                        <span class="note8 music-color">&#119062;</span>
                        <span class="note9 music-color">&#119133;</span>
                        <span class="text">la</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="j">
                        <span class="note5 music-color">&#119062;</span>
                        <span class="note6 music-color">&#119062;</span>
                        <span class="note7 music-color">&#119062;</span>
                        <span class="note8 music-color">&#119062;</span>
                        <span class="note9 music-color">&#119133;</span>
                        <span class="text">ti</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
            </tr>
            <tr>
                <td>
                    <span class="clef">&#119074;</span>
                    <hr class="line3-1" />
                    <hr class="line3-2" />
                    <hr class="line3-3" />
                    <hr class="line3-4" />
                    <hr class="line3-5" />
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="z">
                        <span class="note2 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">do</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="x">
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">re</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="c">
                        <span class="note2 music-color">&#119062;</span>
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">mi</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="v">
                        <span class="note1 music-color">&#119062;</span>
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">fa</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="b">
                        <span class="note1 music-color">&#119062;</span>
                        <span class="note2 music-color">&#119062;</span>
                        <span class="note3 music-color">&#119062;</span>
                        <span class="note4 music-color">&#119133;</span>
                        <span class="text">so</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="n">
                        <span class="note5 music-color">&#119062;</span>
                        <span class="note7 music-color">&#119062;</span>
                        <span class="note8 music-color">&#119062;</span>
                        <span class="note9 music-color">&#119133;</span>
                        <span class="text">la</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
                <td class="triangle">
                    <div class="IDspread"></div>
                    <div class="triangleTop"></div>
                    <button class="key" id="m">
                        <span class="note5 music-color">&#119062;</span>
                        <span class="note6 music-color">&#119062;</span>
                        <span class="note7 music-color">&#119062;</span>
                        <span class="note8 music-color">&#119062;</span>
                        <span class="note9 music-color">&#119133;</span>
                        <span class="text">ti</span>
                    </button>
                    <div class="triangleBottom"></div>
                </td>
            </tr>
        </table>
    </div>
    <div class="combo-box instrumentSelection" id="instrumentDropdown">
        <span id="instruments">乐器</span>
        <div class="combo-items">
            <!-- 乐器列表 -->
            <p onclick="choice('windsong_lyre')">风物之诗琴</p>
            <p onclick="choice('floral_zither')">镜花之琴</p>
            <p onclick="choice('floral_zither_old')">镜花之琴(旧版)</p>
            <p onclick="choice('vintage_lyre')">老旧的诗琴</p>
            <p onclick="choice('Ukulele')">悠可琴</p>
            <p onclick="choice('lingering_Euphonia')">「余音」</p>
            <p onclick="choice('leaping_spirit_piano')">跃律琴</p>
        </div>
    </div>
    <div class="volume-control">
        <span class="volume-label">音量：</span>
        <input type="range" min="0" max="100" value="100" id="volume" class="volume-slider">
    </div>
    <script src="./instruments/manifest.js"></script>
    <script src="./js/play.js"></script>
    <script src="./js/switch.js"></script>
    <script src="./js/ui.js"></script>
    <footer class="footer">
    </footer>
</body>
</html>
